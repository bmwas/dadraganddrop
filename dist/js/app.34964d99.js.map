{"version":3,"file":"js/app.34964d99.js","mappings":"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","sources":["webpack://GraphDoc/./src/utils/data/uuid.ts","webpack://GraphDoc/./src/utils/graph.ts","webpack://GraphDoc/./src/utils/antv-model.ts","webpack://GraphDoc/./src/utils/data/titleCase.ts","webpack://GraphDoc/./src/components/graph/GraphModelerConfigBar.vue?1f5d","webpack://GraphDoc/./src/components/graph/GraphModelerConfigBar.vue","webpack://GraphDoc/./src/components/graph/GraphModelerElementsBar.vue?81ef","webpack://GraphDoc/./src/components/graph/GraphModelerElementsBar.vue","webpack://GraphDoc/./src/utils/data/indent.ts","webpack://GraphDoc/./src/utils/transformer/docassemble.ts","webpack://GraphDoc/./src/utils/transformer/antvis.ts","webpack://GraphDoc/./src/utils/data/pick.ts","webpack://GraphDoc/./src/utils/transformer/json.ts","webpack://GraphDoc/./src/utils/transformer/index.ts","webpack://GraphDoc/./src/components/graph/GraphModelerToolbar.vue?afc1","webpack://GraphDoc/./src/components/graph/GraphModelerToolbar.vue","webpack://GraphDoc/./src/components/graph/GraphValidationErrors.vue?4ece","webpack://GraphDoc/./src/components/graph/GraphValidationErrors.vue","webpack://GraphDoc/./src/components/graph/GraphModeler.vue?4f9c","webpack://GraphDoc/./src/components/graph/GraphModeler.vue","webpack://GraphDoc/./src/components/graph/GraphEditorComponent.vue?1b6d","webpack://GraphDoc/./src/components/graph/GraphEditorComponent.vue","webpack://GraphDoc/./src/App.vue?cb76","webpack://GraphDoc/./src/App.vue","webpack://GraphDoc/./src/main.ts","webpack://GraphDoc/webpack/bootstrap","webpack://GraphDoc/webpack/runtime/chunk loaded","webpack://GraphDoc/webpack/runtime/compat get default export","webpack://GraphDoc/webpack/runtime/define property getters","webpack://GraphDoc/webpack/runtime/global","webpack://GraphDoc/webpack/runtime/hasOwnProperty shorthand","webpack://GraphDoc/webpack/runtime/make namespace object","webpack://GraphDoc/webpack/runtime/jsonp chunk loading","webpack://GraphDoc/webpack/startup"],"sourcesContent":["import { v4 as uuidv4 } from 'uuid';\nexport function uuid() {\n    return uuidv4()\n}","// This file is basically 'graphdoc-model'\n\nimport { node_types } from \"./antv-model\";\nimport { Filter } from \"@antv/x6/lib/registry\";\nimport { uuid } from \"./data/uuid\";\n\nexport type Id = string;\n\nexport interface Node {\n    graph: Graph\n    id: Id,\n\n    gd: {\n        type: keyof node_types,\n        variable?: string | null,\n        content?: string | null,\n    }\n    // content: {[lang: string]: string}, // for multilang support\n    \n    // options: {[key: string]: any},\n    appearance: {\n        x: number, y: number,\n        width: number, height: number,\n    },\n}\n\nexport const NodeDefault: Partial<Node> = {\n    appearance: {\n        x: 0, y: 0,\n        width: 100, height: 100\n    },\n    gd: {\n        type: 'notice', // notice is most generic\n        content: null,\n        variable: null\n    },\n}\n\nexport class Node {\n\n    constructor(options: Partial<Node> & Pick<Node, 'graph'>) {\n        if (typeof options.id == \"undefined\")\n            options.id = uuid();\n        // options.variable = `${options.id}`;\n\n        Object.assign(this, NodeDefault, options);\n    }\n\n    // not sure if this is the best method of determining the type\n    is_node() { return true; }\n    is_edge() { return false; }\n\n    get_label() {\n        return this.gd.variable ?? this.gd.content ?? this.id.substring(0, 8);\n    }\n    \n    get_content() {\n        return this.gd.content ?? `[content of node ${ this.id.substring(0, 8) }]`\n    }\n \n    get_edges_in() {\n        return this.graph.edges\n            .filter(edge => edge.node_to_id == this.id)\n    }\n\n    get_edges_out() {\n        return this.graph.edges\n            .filter(edge => edge.node_from_id == this.id)\n    }\n\n    get_nodes_in() {\n        const node_ids = this.get_edges_in()\n            .map(edge => edge.node_from_id) ?? []; // only return node_ids\n        return this.graph.nodes\n            .filter(node => node_ids.includes(node.id));\n    }\n\n    get_nodes_out() {\n        const node_ids = this.get_edges_out()\n            .map(edge => edge.node_to_id) ?? [];\n        return this.graph.nodes\n            .filter(node => node_ids.includes(node.id));\n    }\n\n}\n\n\nexport interface Edge {\n    graph: Graph\n    id: Id,\n    node_from_id: Id,\n    node_to_id: Id,\n    \n    gd: {\n        content: string | null,\n    }\n}\n\nexport const EdgeDefault: Partial<Edge> = {\n    gd: {\n        content: null,\n    }\n}\n\nexport class Edge {\n\n    constructor(options: Partial<Edge> & Pick<Edge, 'graph'>) {\n        options.id = options.id ?? uuid()\n\n        Object.assign(this, EdgeDefault, options);\n    }\n\n/*\n    constructor(graph: Graph, id: Id | null = null, node_from_id: Id, node_to_id: Id, content: string | null = null) {\n        this.graph = graph;\n        this.id = id ?? get_id();\n\n        this.node_from_id = node_from_id;\n        this.node_to_id = node_to_id;\n        this.content = content;\n    }\n*/\n\n    is_node() { return false; }\n    is_edge() { return true; }\n\n    get_node_from() {\n        return this.graph.nodes\n            .filter(node => node.id == this.node_from_id)[0]\n    }\n\n    get_node_to() {\n        return this.graph.nodes\n            .filter(node => node.id == this.node_to_id)[0]\n    }\n\n}\n\nclass Graph {\n    name;\n    nodes: Array<Node> = [];\n    edges: Array<Edge> = [];\n\n    constructor(name = 'Untitled graph') {\n        this.name = name;\n    }\n\n    get_nodes_by_type(type: keyof node_types) {\n        return this.nodes.filter(x => x.gd.type == type) ?? [];\n    }\n\n    // add_node(options: Partial<Node>) {\n    add_node(options: Partial<Node> & Pick<Node, 'id' | 'appearance' | 'gd'>) {\n        this.nodes.push(new Node({...options, graph: this}))\n    }\n\n    add_edge(options: Partial<Edge> & Pick<Edge, 'id' | 'node_from_id' | 'node_to_id' | 'gd'>) {\n        this.edges.push(new Edge({...options, graph: this}))\n    }\n    \n    clear() {\n        this.nodes = [];\n        this.edges = [];\n    }\n    \n}\n\nexport default Graph","\nimport { Cell, Graph, Node as AntvNode, Path } from '@antv/x6';\nimport { Options } from '@antv/x6/lib/graph/options';\n\nimport { Node, NodeDefault } from './graph';\n\n// import '@antv/x6-vue-shape'\n\nexport const default_edge_label = (text: string | null = '') => {\n    if (text == null)\n        return null;\n\n    return {\n        attrs: {\n            text: {\n                text: text,\n            }\n        },\n        position: {\n            distance: .40,\n        },\n    }\n}\n\nexport const default_edge_attrs = {\n    // shape: 'dag-edge',\n    attrs: {\n        line: {\n            strokeWidth: '1',\n        },\n    },\n    zIndex: -1,\n}\n\nexport const graph_options_defaults: Partial<Options.Manual> = {\n    grid: true,\n\n    background: {\n        color: 'white'\n    },\n\n    mousewheel: {\n        enabled: true,\n        zoomAtMousePosition: true,\n        modifiers: 'ctrl',\n        minScale: 0.5,\n        maxScale: 3,\n    },\n\n    scroller: {\n        enabled: true,\n        pannable: true,\n    },\n\n    connecting: {\n\n        // https://x6.antv.vision/en/docs/tutorial/intermediate/interacting/#%E8%BF%9E%E7%BA%BF%E8%A7%84%E5%88%99\n        allowBlank: false,\n        allowMulti: false,\n        allowLoop: false,\n        allowEdge: false,\n\n        allowNode: false,\n        allowPort: true,\n\n        highlight: true,\n        snap: true,\n\n        // https://x6.antv.vision/en/examples/showcase/practices#dag\n        connector: 'algo-connector',\n        connectionPoint: 'boundary',\n        anchor: 'top',\n\n        validateMagnet({ e, magnet, view, cell }) {\n            // console.log(\"magnet\", e, magnet, view, cell)\n            return magnet.getAttribute('port-group') !== 'in'\n        },\n        createEdge(this) {\n            return this.createEdge(default_edge_attrs)\n        },\n\n        validateEdge({edge, type, previous}) {\n            // console.log(\"edge data\", edge)\n            // TODO: only allow (multiple) for decision\n            return true;\n        },\n\n        validateConnection({edge, sourceMagnet, targetMagnet}) {\n            if (sourceMagnet == null || targetMagnet == null)\n                return false;\n            \n            return sourceMagnet.getAttribute('port-group') == \"out\" &&\n                 targetMagnet.getAttribute('port-group') == \"in\";\n        },\n    },\n\n    history: {\n        enabled: true,\n        beforeAddCommand(event: any, args: any) {\n            // console.log(event, args);\n            // prevent adding/removing tools on hover to be added to history\n            if (args.key == 'tools')\n            {\n                return false\n            }\n        },\n    },\n    resizing: {\n        enabled: false,\n    },\n    selecting: {\n        enabled: true,\n        multiple: false,\n        \n    },\n\n}\n\nexport function graph_register_defaults(graph: Graph) {\n    /*\n    // https://x6.antv.vision/en/docs/api/registry/edge-tool\n    graph.on('edge:mouseenter', ({ cell }) => {\n        // console.log(cell)\n        cell.addTools(\n            [\n                {\n                    name: 'button-remove',\n                    args: {\n                        distance: 30,\n                        fill: '#000000'\n                    },\n                },\n            ]\n        )\n    })\n    graph.on('edge:mouseleave', ({ cell }) => {\n        setTimeout(() => {\n            cell.removeTool('button-remove')\n        }, 1500)\n    })\n    */\n\n    graph.on('node:mouseenter', ({ cell }) => {\n        cell.addTools([{name: 'button-remove'}])\n    })\n\n    graph.on('node:mouseleave', ({ cell }) => {\n        setTimeout(() => {\n            cell.removeTool('button-remove')\n        }, 1000)\n    })\n\n    Graph.registerConnector('algo-connector', (s, e) => {\n        const offset = 4\n        const deltaY = Math.abs(e.y - s.y)\n        const control = Math.floor((deltaY / 3) * 2)\n    \n        const v1 = { x: s.x, y: s.y + offset + control }\n        const v2 = { x: e.x, y: e.y - offset - control }\n    \n        return Path.normalize(\n            `M ${s.x} ${s.y}\n            L ${s.x} ${s.y + offset}\n            C ${v1.x} ${v1.y} ${v2.x} ${v2.y} ${e.x} ${e.y - offset}\n            L ${e.x} ${e.y}\n            `,\n        )\n    }, true)\n\n}\n\nconst default_port_groups = {\n    in: {\n        attrs: {\n            circle: {\n                r: 6,\n                stroke: \"#6a6a6b\",\n                magnet: true,\n            }\n        },\n        // markup: {\n        //     tagName: 'path',\n        //     selector: 'path',\n        //     attrs: {\n        //         d: \"M 0 5 L 6.25 -5 L -6.25 -5 L 0 5\",\n        //         fill: \"#fff\",\n        //         stroke: \"#6a6a6b\",\n        //         'stroke-width': \"1\",\n        //         magnet: true\n        //     }\n        // },\n        position: 'top'\n    },\n    out: {\n        attrs: {\n            circle: {\n                r: 6,\n                stroke: \"#6a6a6b\",\n                magnet: true,\n            }\n        },\n        // markup: {\n        //     tagName: 'path',\n        //     selector: 'path',\n        //     attrs: {\n        //         d: \"M 0 -5 L 6.25 5 L -6.25 5 L 0 -5\",\n        //         fill: \"#fff\",\n        //         stroke: \"#6a6a6b\",\n        //         'stroke-width': \"1\",\n        //         magnet: true\n        //     }\n        // },\n        position: 'bottom'\n    },\n}\n\nexport function default_node_ports(ports: Array<keyof typeof default_port_groups>) {\n    const default_ports = {\n        groups: default_port_groups,\n        items: [] as {id: string, group: keyof typeof default_port_groups}[]\n    }\n\n    for (const port_group of ports) {\n        default_ports.items.push({\n            id: `${port_group}-1`,\n            group: port_group,\n        })\n    }\n\n    return default_ports\n}\n\nexport type node_types = {\n    [\n        key in \"start\" | \"notice\" | \"decision\" | \"end\"\n    ]: {\n        antv_metadata: Omit<AntvNode.Metadata, 'data'> & {data: Partial<AntvNodeData>}, // override 'data' type of antv\n        config_fields: {\n            general?: string[],\n            additional?: string[]\n        }\n    }\n};\nexport const node_type_default = 'notice';\n\n// export type AntvNodeData = Partial<Node> & Pick<Node, 'type' | 'options' | 'variable' | 'content'>;\n// export type AntvNodeData = Pick<Node, 'type' | 'options' | 'variable' | 'content'> \n//     & { errors?: boolean };\nexport type AntvNodeData = {\n    errors?: boolean,\n    // gd for 'graphdoc' model\n    // gd: Partial<Node> & Pick<Node, 'type' | 'options' | 'variable' | 'content'> \n    // Partial<Pick<...>> are optional data entries, Pick<...> are required.\n    // gd: Partial<Pick<Node, 'options'>> & Pick<Node, 'type' | 'variable' | 'content'> \n\n    gd: Node['gd']\n}\n\nconst node_html = {\n    render(node: AntvNode) {\n        const data = node.getData() as AntvNodeData;\n\n        let label = '';\n        let label_class = '';\n\n        if (data.gd.variable) {\n            label = data.gd.variable;\n            label_class = 'node-label-variable';\n        } else if (data.gd.content) {\n            label = `\"${data.gd.content}\"`;\n            label_class = 'node-label-content';\n        } else {\n            label = `unnamed ${data.gd.type} node`;\n            label_class = 'node-label-unnamed';\n        }\n\n        return(\n            `<div class=\"node node-${ data.gd.type } ${ data.errors ? 'node-has-errors' : '' }\">\n                <span class=\"${ label_class }\">${ label }</span>\n            </div>`\n        )\n    },\n    shouldComponentUpdate(node: AntvNode) {\n        return node.hasChanged('data')\n    },\n}\n\nexport const node_types: node_types = {\n    // https://github.com/eensander/graph-quiz/blob/master/resources/js/components/dashboard/graph/GraphModeler.vue#L112\n    start: {\n        antv_metadata: {\n            shape: 'html',\n            html: node_html,\n            // tools: ['button-remove'],\n            width: 180,\n            height: 36,\n            data: {\n                gd: Object.assign({}, NodeDefault.gd, {\n                    type: 'start'\n                }),\n            },\n            ports: default_node_ports(['out']),\n        },\n        config_fields: {\n            general: [\n                'variable',\n                'label',\n            ],\n            additional: [\n                // 'annotation'\n            ],\n        }\n    },\n    decision: {\n        antv_metadata: {\n            shape: 'html',\n            html: node_html,\n            // tools: ['button-remove'],\n            width: 180,\n            height: 36,\n\n            data: {\n                gd: Object.assign({}, NodeDefault.gd, {\n                    type: 'decision'\n                }),\n            },\n            ports: default_node_ports(['in', 'out']),\n        },\n        config_fields: {\n            general: [\n                'variable',\n                'label',\n            ],\n            additional: [\n                // 'annotation',\n                // 'subgraph'\n            ],\n        }\n    },\n    notice: {\n        antv_metadata: {\n            shape: 'html',\n            html: node_html,\n            // tools: ['button-remove'],\n            width: 180,\n            height: 36,\n            \n            data: {\n                gd: Object.assign({}, NodeDefault.gd, {\n                    type: 'notice'\n                }),\n            },\n            ports: default_node_ports(['in', 'out']),\n        },\n        config_fields: {\n            general: [\n                'variable',\n                'label',\n            ],\n            additional: [\n                // 'annotation'\n            ],\n        }\n    },\n    end: {\n        antv_metadata: {\n            shape: 'html',\n            html: node_html,\n            // tools: ['button-remove'],\n            width: 180,\n            height: 36,\n            \n            data: {\n                gd: Object.assign({}, NodeDefault.gd, {\n                    type: 'end'\n                }),\n            },\n            ports: default_node_ports(['in']),\n        },\n        config_fields: {\n            general: [\n                'variable',\n                'label',\n            ],\n        }\n    }\n}","// from: https://stackoverflow.com/a/63511295/17864167\nexport default function(str: string){\n  return str[0].toUpperCase() + str.slice(1).toLowerCase();\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, isRef as _isRef, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"block p-2 text-gray-700\" }, \"Select a node or edge to configure\", -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\nconst _hoisted_4 = {\n  key: 1,\n  class: \"w-full\"\n}\nconst _hoisted_5 = { class: \"\" }\nconst _hoisted_6 = { class: \"m-2 font-bold block text-2xl border-b border-gray-300\" }\nconst _hoisted_7 = { class: \"p-2\" }\nconst _hoisted_8 = { class: \"p-2\" }\nconst _hoisted_9 = { class: \"my-2 block border-b border-gray-300 uppercase font-bold text-sm text-gray-800\" }\nconst _hoisted_10 = { key: 0 }\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"text-gray-700 block mb-1\" }, \"Variable\", -1)\nconst _hoisted_12 = { key: 1 }\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"text-gray-700 block mb-1\" }, \"Content\", -1)\nconst _hoisted_14 = {\n  key: 2,\n  class: \"w-full\"\n}\nconst _hoisted_15 = { class: \"\" }\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"m-2 font-bold block text-2xl border-b border-gray-300\" }, \"Edge\", -1)\nconst _hoisted_17 = { class: \"p-2\" }\nconst _hoisted_18 = {\n  key: 0,\n  class: \"p-2\"\n}\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"my-2 block border-b border-gray-300 uppercase font-bold text-sm text-gray-800\" }, \"General\", -1)\nconst _hoisted_20 = { class: \"block mt-2\" }\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"text-gray-700 block mb-1\" }, \"Label\", -1)\nconst _hoisted_22 = { class: \"w-full my-2 text-right\" }\nconst _hoisted_23 = { key: 3 }\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Invalid cell selected\", -1)\nconst _hoisted_25 = [\n  _hoisted_24\n]\n\nimport { computed, ref } from 'vue';\n    import { default_edge_label, node_types, node_type_default, AntvNodeData } from '@/utils/antv-model'\n\n    import { Cell, Edge, Node } from '@antv/x6'\n\n    import titleCase from '@/utils/data/titleCase';\n\n    \nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    cell: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n        cell: Cell | undefined\n    }\n\n\n    \n    \n    const current_fields = computed(() => {\n        const field = props.cell?.getData()?.node_type ?? node_type_default;\n        let current_node_fields = null;\n\n        if (Object.keys(node_types).includes(field))\n            current_node_fields = node_types[field as keyof node_types].config_fields;\n        else\n            current_node_fields = node_types[node_type_default].config_fields;\n\n        // https://stackoverflow.com/a/62400741/17864167\n        return Object.fromEntries(\n            Object.entries(current_node_fields)\n                .filter(([key, val]) => val.length > 0)\n        )\n    });\n\n    const node_content = computed({\n        get() {\n            // https://github.com/antvis/X6/issues/2020#issuecomment-1104644438\n            // return (props.cell as Node).getAttrByPath('text/text') as string\n\n            return (props.cell as Node).getData().gd.content ?? '';\n        },\n        set(value: string) {\n            // (props.cell as Node).setAttrByPath('text/text', value)\n\n            (props.cell as Node).setData({gd: {content: value}});\n        }\n    });\n\n    const node_variable = computed({\n        get() {\n            return ((props.cell as Node).getData() as AntvNodeData).gd.variable ?? '';\n        },\n        set(value: string) {\n            (props.cell as Node).setData({gd: {variable: value != '' ? value : null}});\n        }\n    });\n\n    // only reason for 'edge_content_ref' is for adding reactivity to edge_content,\n    // relevant for pressing buttons\n    const edge_content_ref = ref('');\n    const edge_content = computed({\n        get() {\n            const edge = props.cell as Edge;\n            edge_content_ref.value;\n            return edge.getLabelAt(0)?.attrs?.text?.text?.toString() ?? '';\n        },\n        set(value: string) {\n            const edge = props.cell as Edge;\n\n            const edge_label = default_edge_label(value);\n            if (edge_label != null) {\n                edge.removeLabelAt(0);\n                edge.setLabelAt(0, edge_label);\n            }\n\n            edge_content_ref.value = value;\n            edge.setData({value})\n        }\n    });\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.cell == null)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_3))\n    : (__props.cell.isNode())\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\"span\", _hoisted_6, _toDisplayString(_unref(titleCase)((__props.cell.data as AntvNodeData).gd.type)) + \" node\", 1),\n            _createElementVNode(\"div\", _hoisted_7, [\n              _createElementVNode(\"button\", {\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (__props.cell?.remove())),\n                class: \"action-btn-remove\"\n              }, \"Remove\")\n            ]),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(current_fields), (fields, field_group) => {\n              return (_openBlock(), _createElementBlock(\"div\", { key: field_group }, [\n                _createElementVNode(\"div\", _hoisted_8, [\n                  _createElementVNode(\"span\", _hoisted_9, _toDisplayString(field_group), 1),\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(fields, (field) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                      key: field,\n                      class: \"block mt-2 mb-1\"\n                    }, [\n                      (field == 'variable')\n                        ? (_openBlock(), _createElementBlock(\"label\", _hoisted_10, [\n                            _hoisted_11,\n                            _createElementVNode(\"div\", null, [\n                              _withDirectives(_createElementVNode(\"input\", {\n                                class: \"w-full\",\n                                type: \"text\",\n                                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(node_variable) ? (node_variable).value = $event : null))\n                              }, null, 512), [\n                                [_vModelText, _unref(node_variable)]\n                              ])\n                            ])\n                          ]))\n                        : _createCommentVNode(\"\", true),\n                      (field == 'label')\n                        ? (_openBlock(), _createElementBlock(\"label\", _hoisted_12, [\n                            _hoisted_13,\n                            _createElementVNode(\"div\", null, [\n                              _withDirectives(_createElementVNode(\"textarea\", {\n                                style: {\"min-height\":\"3rem\"},\n                                class: \"w-full\",\n                                type: \"text\",\n                                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => (_isRef(node_content) ? (node_content).value = $event : null))\n                              }, null, 512), [\n                                [_vModelText, _unref(node_content)]\n                              ])\n                            ])\n                          ]))\n                        : _createCommentVNode(\"\", true)\n                    ]))\n                  }), 128))\n                ])\n              ]))\n            }), 128))\n          ])\n        ]))\n      : (__props.cell.isEdge())\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n            _createElementVNode(\"div\", _hoisted_15, [\n              _hoisted_16,\n              _createElementVNode(\"div\", _hoisted_17, [\n                _createElementVNode(\"button\", {\n                  onClick: _cache[3] || (_cache[3] = ($event: any) => (__props.cell?.remove())),\n                  class: \"action-btn-remove\"\n                }, \"Remove\")\n              ]),\n              ((__props.cell.getSourceCell()?.getData() as AntvNodeData).gd.type == 'decision')\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [\n                    _hoisted_19,\n                    _createElementVNode(\"div\", _hoisted_20, [\n                      _createElementVNode(\"label\", null, [\n                        _hoisted_21,\n                        _withDirectives(_createElementVNode(\"input\", {\n                          type: \"text\",\n                          class: \"w-full\",\n                          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => (_isRef(edge_content) ? (edge_content).value = $event : null))\n                        }, null, 512), [\n                          [_vModelText, _unref(edge_content)]\n                        ])\n                      ]),\n                      _createElementVNode(\"div\", _hoisted_22, [\n                        _createElementVNode(\"button\", {\n                          class: \"inline btn mr-2\",\n                          onClick: _cache[5] || (_cache[5] = ($event: any) => (edge_content.value = 'Yes'))\n                        }, \"Yes\"),\n                        _createElementVNode(\"button\", {\n                          class: \"inline btn\",\n                          onClick: _cache[6] || (_cache[6] = ($event: any) => (edge_content.value = 'No'))\n                        }, \"No\")\n                      ])\n                    ])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ])\n          ]))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_23, _hoisted_25))\n}\n}\n\n})","import script from \"./GraphModelerConfigBar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GraphModelerConfigBar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./GraphModelerConfigBar.vue?vue&type=style&index=0&id=183a2d17&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"shape-holder\" }\nconst _hoisted_2 = [\"data-type\"]\n\nimport { Dom, Addon, Graph, Node } from '@antv/x6';\n    import { Dnd } from '@antv/x6/lib/addon/dnd';\n    \n    import { onMounted, Ref, ref, watch, computed } from 'vue';\n    import { graph_options_defaults, node_types } from '@/utils/antv-model';\n\n    \nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    graph: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n        graph: Graph | undefined,\n        // node_type_defaults: Object\n    }\n\n    // https://github.com/antvis/X6/blob/master/sites/x6-sites-demos/packages/tutorial/basic/dnd/dnd/src/app.tsx\n\n    \n\n    const dnd: Ref<Dnd | undefined> = ref();\n\n    onMounted(() => {\n        // https://github.com/antvis/X6/blob/master/sites/x6-sites-demos/packages/tutorial/basic/dnd/dnd/src/app.tsx\n        // https://x6.antv.vision/en/docs/tutorial/basic/dnd\n\n        // console.log(dnd.value);\n    })\n\n    // computed(() => {\n    //     if (typeof props.graph !== \"undefined\")\n    //         init_dnd(props.graph)\n    // })\n\n    watch(() => props.graph, (value: typeof props.graph) => {\n        if (typeof value !== \"undefined\")\n            init_dnd(value)\n\n        // console.log(\"node-create\", Node.create(node_types[\"notice\"]))\n    })\n\n    const init_dnd = (graph: Graph) => {\n        dnd.value = new Addon.Dnd({\n            target: graph,\n            scaled: false,\n            animation: true,\n            validateNode(droppingNode, options) {\n                // alert('validating')\n                return true;\n                // return droppingNode.shape === 'html'\n                //   ? new Promise<boolean>((resolve) => {\n                //       const { draggingNode, draggingGraph } = options;\n                //       const view = draggingGraph.findView(draggingNode)\n                //       const contentElem = view.findOne('foreignObject > body > div');\n                //       Dom.addClass(contentElem, 'validating')\n                //       setTimeout(() => {\n                //         Dom.removeClass(contentElem, 'validating')\n                //         resolve(true)\n                //       }, 3000)\n                //     })\n                //   : true\n            },\n        })\n    }\n    \n    const startDrag = (e: MouseEvent) => {\n        if (typeof props.graph == \"undefined\")\n            return false;\n\n        /*\n        const types = {\n            'rect': {\n                width: 100,\n                height: 40,\n                attrs: {\n                    label: {\n                        text: 'Rect',\n                        fill: '#6a6c8a',\n                    },\n                    body: {\n                        stroke: '#31d0c6',\n                        strokeWidth: 2,\n                    },\n                },\n            },\n            'circle': {\n                width: 100,\n                height: 40,\n                shape: 'html',\n                html: () => {\n                    const wrap = document.createElement('div')\n                    wrap.style.width = '100%'\n                    wrap.style.height = '100%'\n                    wrap.style.display = 'flex'\n                    wrap.style.alignItems = 'center'\n                    wrap.style.justifyContent = 'center'\n                    wrap.style.border = '2px solid rgb(49, 208, 198)'\n                    wrap.style.background = '#fff'\n                    wrap.style.borderRadius = '100%'\n                    wrap.innerText = 'Circle'\n                    return wrap\n                },\n            }\n        };\n        */\n\n        const target = e.currentTarget\n        const type = (target as HTMLElement).getAttribute('data-type')!\n\n        if (!(type in node_types)) {\n            return false\n        }\n\n        const node = props.graph.createNode(node_types[type as keyof node_types].antv_metadata);\n\n        // node.label = type\n        // node.setData({label: type})\n        \n        // (node as any).setLabel(type)\n        // node.setAttrByPath('text/text', type)\n        node.setData({label: type})\n        \n        dnd.value?.start(node, e)\n\n    }\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(node_types), (node_type, node_type_name) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        key: node_type_name,\n        class: _normalizeClass(`node node-${node_type_name}`),\n        \"data-type\": node_type_name,\n        onMousedown: _cache[0] || (_cache[0] = ($event: any) => (startDrag($event)))\n      }, _toDisplayString(node_type_name), 43, _hoisted_2))\n    }), 128))\n  ]))\n}\n}\n\n})","import script from \"./GraphModelerElementsBar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GraphModelerElementsBar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./GraphModelerElementsBar.vue?vue&type=style&index=0&id=f886c05c&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","// from: self\nexport function indent(lines: string[], indent = 1, spaces_per = 2): string[] {\n    return lines.map(line => ' '.repeat(indent*2).concat(line))\n}","import { ITransformer } from \".\";\nimport Graph, { Edge, Node } from \"../graph\";\nimport { indent } from \"@/utils/data/indent\"\n\nexport type validationErrorPart = string | Node | Edge;\nexport type validationErrorList = Array<validationErrorPart>[];\n\nexport class DocassembleTransformer implements ITransformer  {\n\n    validate_graph(graph: Graph): validationErrorList {\n        const errors: validationErrorList = [];\n\n        // General graph errors\n        const node_start = graph.get_nodes_by_type('start');\n        if (node_start.length !== 1)\n            errors.push([`graph must have exactly one start node (has ${node_start.length})`]);\n        const nodes_end = graph.get_nodes_by_type('end');\n        if (nodes_end.length === 0)\n            errors.push([`graph must have atleast one end node`])\n\n        // General input/output amount errors, and uniqueness of ID's.\n        const variable_list: {[variable: string]: {amount: number, nodes: Node[]}} = {};\n        for (const node of graph.nodes) {\n\n            // Add variables to list in this phase, to save iterations\n            const node_var = this.da_node_get_id(node);\n            if (node_var in variable_list) {\n                variable_list[node_var].amount += 1;\n                variable_list[node_var].nodes.push(node);\n            } else {\n                variable_list[node_var] = {amount: 1, nodes: [node]};\n            }\n            \n            // Interpreting of edge amount errors\n            if (node.gd.type == 'start' && node.get_edges_out().length !== 1)\n                errors.push(['start node ', node, ` must have 1 outgoing edge (has ${node.get_edges_out().length})`])\n\n            // else if (node.type == 'decision' && node.get_edges_out().length === 1)\n            //     errors.push(`decision node with label ${node.content} has one outgoing edge, which makes it purpose trivial`) // warning\n            else if (node.gd.type == 'decision' && node.get_edges_in().length === 0)\n                errors.push(['decision node ', node, ' must have atleast one ingoing edge'])\n            else if (node.gd.type == 'decision' && node.get_edges_out().length === 0)\n                errors.push(['decision node ', node, ' must have atleast one outgoing edge'])\n\n            else if (node.gd.type == 'notice' && node.get_edges_in().length === 0)\n                errors.push(['notice node ', node, ' must have atleast one ingoing edge'])\n            else if (node.gd.type == 'notice' && node.get_edges_out().length !== 1)\n                errors.push(['notice node ', node, ' must have one outgoing edge'])\n\n            else if (node.gd.type == 'end' && node.get_edges_in().length === 0){\n                errors.push(['end node ', node, ' must have atleast one ingoing edge'])\n            }\n        }\n\n        // Checking variable names: duplicate and invalid names\n        for (const [variable, {amount, nodes}] of Object.entries(variable_list)) {\n            console.log(variable, amount, nodes)\n\n            const seperated_error_nodes: (string | Node)[] = [];\n            nodes.forEach((node, i) => {\n                seperated_error_nodes.push(node);\n                if (i < (nodes.length - 1))\n                   seperated_error_nodes.push(', ');\n            })\n\n            if (!variable.match(/^[a-zA-Z_][a-zA-Z0-9_]*$/))\n                errors.push([\n                    `invalid (python) variable name '${variable}' on the node(s): `,\n                    ...seperated_error_nodes\n                ])\n\n            if (amount > 1) {\n                errors.push([\n                    `variable name '${variable}' occurs is defined more than once, in the nodes: `,\n                    ...seperated_error_nodes\n                ]);\n            }\n        }\n\n        // Decision-node specific errors\n        const nodes_decision = graph.get_nodes_by_type('decision');\n        for(const node_decision of nodes_decision) {\n            let has_edge_out_content_null = false;\n\n            const content_edges_out: {[content: string]: number} = {};\n            const node_edges_out = node_decision.get_edges_out();\n\n            for (const edge_out of node_edges_out) {\n                if (edge_out.gd.content == null)\n                    has_edge_out_content_null = true;\n                \n                // if length == 1, to ensure it's only printed once\n                // if (content_edges_out.filter(x => x == edge_out.content).length == 1)\n                //     errors.push(`decision node with label '${node_decision.content}' has multiple edges with content '${ edge_out.content }' (should be unique)`)\n                \n                if (edge_out.gd.content != null){\n                    // https://stackoverflow.com/a/39591024\n                    content_edges_out[edge_out.gd.content] = (content_edges_out[edge_out.gd.content]+1) || 1 ;\n                }\n            }\n            \n            if (has_edge_out_content_null)\n                errors.push(['decision node ', node_decision, ' has atleast one outgoing edge with no content']);\n            \n            Object.entries(content_edges_out).forEach(([content, amount]) => {\n                \n                if (amount > 1) {\n                    const edges = node_edges_out.filter(edge => edge.gd.content = content);\n                    const error_start: validationErrorPart[] = [\n                        `the decision node `, \n                        node_decision, \n                        ` has multiple edges with content '${ edges[0].gd.content }' on the edges: `,\n                    ];\n                    edges.forEach((tmp_edge, i) => {\n                        error_start.push(tmp_edge)\n                        if (i < (edges.length - 1))\n                            error_start.push(', ')\n                    })\n\n                    errors.push(error_start)\n                }\n            });\n        }\n\n        // only perform cycle check if no other errors are present\n        if (errors.length === 0) {\n            \n            // Cycle detection algorithm: https://en.wikipedia.org/wiki/Topological_sorting#Kahn's_algorithm\n\n            const L = [];\n            const S = graph.nodes.filter(x => x.get_edges_in().length === 0);\n\n            let edges = [...graph.edges]\n            // console.log(edges);\n\n            while (S.length > 0) {\n                const n = S.pop()!;\n                L.push(n);\n\n                for (const e of edges.filter(x => x.node_from_id == n.id)) {\n                    const m = e.get_node_to();\n\n                    edges = edges.filter(x => !(x.id==e.id)) // remove e from edges\n                    if (edges.filter(x => x.node_to_id == m.id).length === 0)\n                        S.push(m)\n                }\n            }\n\n            if (edges.length > 0) {\n                errors.push(['graph must not contain cycles/loops'])\n            }\n        }\n\n        return errors;\n    }\n    \n    da_node_get_id(node: Node): string {\n        // return `${ node.type }_${ node.variable }`\n        // console.log(node, `${ node.gd.type }_${node.id.toString().substring(0, 8)}`)\n        return node.gd.variable ?? `${ node.gd.type }_${node.id.toString().substring(0, 8)}`;\n    }\n\n    /**\n     * Construct python code block for docassemble, from given graph and node\n     * Performs recursive preorder depth-first search\n     * @param node The root node to start traversal from\n     * @param indent To indent this code relative to indent of current node\n     * @returns string[] lines of code\n     */\n    da_build_logic(graph: Graph, node: Node): string[] {\n\n        const node_edges_out = node.get_edges_out();\n        \n        const code: string[] = [];\n\n        switch(node.gd.type) {\n            case 'start': {\n\n                code.push(`def get_outcome_${ this.da_node_get_id(node) }():`)\n                code.push(...indent([ this.da_node_get_id(node) ]))\n                \n                const sub_cont: string[] = []\n                for(const node_edge_out of node_edges_out)\n                    sub_cont.push(...this.da_build_logic(graph, node_edge_out.get_node_to()))\n                \n                if (sub_cont.length > 0)\n                    code.push(...indent(sub_cont))\n                else\n                    code.push(...indent(['pass']));\n                \n                code.push(`outcome = get_outcome_${ this.da_node_get_id(node) }()`)\n\n                break\n\n            }\n            case 'end':\n                code.push(`return ${ this.da_node_get_id(node) }`);\n\n                break\n            case 'decision': {\n\n                for(const node_edge_out of node_edges_out) {            \n                    const node_edge_out_content = node_edge_out.gd.content;\n                    if (node_edge_out_content == null)\n                        continue\n\n                    const sub_node = this.da_build_logic(graph, node_edge_out.get_node_to())\n\n                    code.push(`if ${ this.da_node_get_id(node) } == '${ node_edge_out.gd.content }':`);\n                    code.push(...indent(sub_node || ['pass'], 1))\n                }\n                \n                break\n            }\n            case 'notice': {\n                code.push(`${ this.da_node_get_id(node) }`);\n\n                for(const node_edge_out of node_edges_out) \n                    code.push(...this.da_build_logic(graph, node_edge_out.get_node_to()));\n                \n                break\n            }\n        }\n\n        return code\n    }\n\n    /**\n     * Generate the docassemble interview configuration content\n     * @param graph Graph object satisfying the contract in utils/graph.ts\n     *              and has been verified according to the validate_graph() \n     * @returns string docassemble interview code\n     */\n    out(graph: Graph): string {\n\n        const node_start = graph.get_nodes_by_type('start')[0];\n        const nodes_end = graph.get_nodes_by_type('end');\n\n        const blocks: Array<string[] | string> = [];\n        \n        for (const node of graph.nodes) {\n\n            switch(node.gd.type) {\n                case 'start':\n                    blocks.push([\n                        'question: Start',\n                        `subquestion: '${ node.get_content() }'`,\n                        `continue button field: ${ this.da_node_get_id(node) }`,\n                    ]);\n\n                    break\n                case 'end':\n                    break\n                case 'decision': {\n                    \n                    const edges_out = graph.edges\n                        .filter(edge => edge.node_from_id == node.id);\n                    \n                    let buttons: Array<string> = [];\n\n                    for (const edge_out of edges_out) {\n                        if (edge_out.gd.content != null)\n                            buttons.push(`  - \"${ edge_out.gd.content }\"`)\n                    }\n\n                    // TODO: add option for priority of buttons (instead of sort)\n                    buttons.sort()\n\n                    if (buttons.length > 0)\n                        buttons = ['buttons:', ...buttons]\n\n                    blocks.push([\n                        'question: Question',\n                        `subquestion: '${ node.get_content() }'`,\n                        `field: ${ this.da_node_get_id(node) }`,\n                        ...buttons\n                    ]);\n\n                    break\n                }\n                case 'notice': {\n                    blocks.push([\n                        'question: Notice',\n                        `subquestion: '${ node.get_content() }'`,\n                        `continue button field: ${ this.da_node_get_id(node) }`,\n                    ]);\n\n                    break\n                }\n            }\n        }\n        \n        const logic_code: string[] = [];\n        for (const node_end of nodes_end ?? [])\n            // adding declarations to end nodes content\n            logic_code.push(...indent([`${this.da_node_get_id(node_end)} = '${node_end.get_content()}'`]))\n\n        logic_code.push(...indent(this.da_build_logic(graph, node_start)));\n\n        if (logic_code.length > 0)\n            blocks.push(['code: |', ...logic_code])\n\n        blocks.push([\n            'mandatory: True',\n            'question: End',\n            'subquestion: ${outcome}'\n        ]);\n        \n        let content = blocks.map((block) => {\n            if (typeof block == \"string\")\n                return block;\n            else if(Array.isArray(block))\n                return block.join(\"\\n\");\n        }).join(\"\\n---\\n\")\n        \n        return content;\n    }\n}","import Graph from \"../graph\";\nimport { Graph as AntvGraph } from \"@antv/x6\";\nimport { AntvNodeData, default_edge_attrs, default_edge_label, default_node_ports, node_types, node_type_default } from \"../antv-model\";\nimport { ITransformer } from \".\";\nimport { uuid } from \"../data/uuid\";\n\nexport class AntvisTransformer implements ITransformer {\n\n\n    // inspired from: https://github.com/eensander/graph-quiz/blob/master/resources/js/components/dashboard/graph/GraphModeler.vue#L442\n    in(graph: Graph, antv_graph: AntvGraph): Graph {\n        graph.clear();\n\n        const local_data = {\n            'nodes': antv_graph.getNodes(),\n            'edges': antv_graph.getEdges(),\n        };\n        \n        for(const loc_node of local_data.nodes) {\n            const loc_node_data = loc_node.getData() as AntvNodeData\n            const rem_node = {\n                id: loc_node.id,\n                gd: loc_node_data.gd,\n\n                appearance: {\n                    x: loc_node.getPosition().x ?? 0,\n                    y: loc_node.getPosition().y ?? 0,\n                    width: loc_node.getSize().width\n                        ?? node_types[loc_node_data.gd.type].antv_metadata.width,\n                    height: loc_node.getSize().height \n                        ?? node_types[loc_node_data.gd.type].antv_metadata.height,\n                }\n            }\n            \n            graph.add_node(rem_node)\n        }\n        \n        for(const loc_edge of local_data['edges']) {\n            // console.log(\"loc_edge\", loc_edge);\n\n            // both source and target ought to be known (non null)\n            if (loc_edge.getSourceCell() == null || loc_edge.getTargetCell() == null)\n                continue\n\n            let edge_content = loc_edge.getLabelAt(0)?.attrs?.text?.text?.toString() ?? null;\n            if (edge_content == \"\")\n                edge_content = null;\n\n            const rem_edge = {\n                id: loc_edge.id,\n                \n                node_from_id: loc_edge.getSourceCellId(),\n                node_to_id:   loc_edge.getTargetCellId(),\n\n                gd: {\n                    content: edge_content,\n                },\n                \n                appearance: {\n                    vertices: loc_edge.getVertices(),\n                },\n            }\n\n            graph.add_edge(rem_edge)\n        }\n\n        return graph;\n    }\n\n    // inspired from: https://github.com/eensander/graph-quiz/blob/master/resources/js/components/dashboard/graph/GraphModeler.vue#L525\n    out(graph: Graph) {\n\n        const data_nodes: Array<any> = [];\n        let last_x = 0;\n        \n        Object.values(graph.nodes).forEach((node) => {\n\n            let node_ser = {\n                // default values (includes ports etc); can be overwritten after spread\n                ...node_types[node.gd.type].antv_metadata,\n\n                // id: `node-${node.id}`,\n                id: node.id,\n\n                x: node.appearance?.x ?? (last_x += 50),\n                y: node.appearance?.y ?? 50,\n\n                data: {\n                    gd: node.gd\n                },\n            }\n\n            // https://stackoverflow.com/a/58245240\n            node_ser = Object.assign(\n                {},\n                node_types[node.gd.type].antv_metadata ?? node_types.notice.antv_metadata ?? {},\n                node_ser,\n            );\n\n            // because there are defaults\n            /*\n            if (node_ser.width == null && node.appearance?.width != null)\n                node_ser.width = node.appearance.width;\n            if (node_ser.height == null && node.appearance?.height != null)\n                node_ser.height = node.appearance.height;\n            */\n            \n            data_nodes.push(node_ser);\n        })\n        \n        const data_edges: Array<any> = [];\n\n        Object.values(graph.edges).forEach((edge) => {\n            const edge_label = default_edge_label(edge.gd.content);\n\n            const edge_ser = {\n                ...default_edge_attrs,\n\n                // id: `edge-${edge.id}`,\n                id: edge.id,\n\n                labels: edge_label != null ? [ edge_label ] : [],\n\n                source: {\n                    // cell: `node-${edge.node_from_id}`,\n                    cell: edge.node_from_id,\n                    port: 'out-1'\n                },\n                target: {\n                    // cell: `node-${edge.node_to_id}`,\n                    cell: edge.node_to_id,\n                    port: 'in-1'\n                },\n\n                data: {\n                    // edge_id: edge.id,\n                    gd: edge.gd\n                },\n\n            }\n\n            data_edges.push(edge_ser)\n        })\n\n\n        const data = {\n            nodes: data_nodes,\n            edges: data_edges,\n        }\n\n        // this.graph.fromJSON(data);\n\n        return data;\n    }\n}","// from: https://stackoverflow.com/a/47232883/17864167 (2022-04-22)\nexport function pick<T, K extends keyof T>(obj: T, ...keys: K[]): Pick<T, K> {\n  const ret: any = {};\n  keys.forEach(key => {\n    ret[key] = obj[key];\n  })\n  return ret;\n}","import { pick } from \"@/utils/data/pick\";\nimport Graph, { Edge, Node } from \"@/utils/graph\";\n\n// export type JSONGraphData = Partial<Graph> & Pick<Graph, 'name' | 'nodes' | 'edges'>\n// export type JSONGraphData = Partial<Graph> & Pick<Graph, 'name'> & {\nexport type JSONGraphData = {\n    'nodes': Array<Partial<Node> & Pick<Node, 'id' | 'appearance' | 'gd'>>,\n    'edges': Array<Partial<Edge> & Pick<Edge, 'id' | 'node_from_id' | 'node_to_id' | 'gd'>>,\n    'name': string\n}\n\nexport class JSONTransformer {\n    \n    in_json(graph: Graph, data: JSONGraphData) {\n        graph.clear();\n\n        graph.name = data.name;\n        for (const node of data.nodes) {\n            graph.add_node(node)\n        }\n        for (const edge of data.edges) {\n            graph.add_edge(edge)\n        }\n        \n        return graph;\n    }\n\n    out_json(graph: Graph) {\n        \n        const data = {\n            'nodes': graph.nodes.map(node => pick(node, 'id', 'appearance', 'gd')),\n            'edges': graph.edges.map(edge => pick(edge, 'id', 'node_from_id', 'node_to_id', 'gd')),\n            'name': graph.name\n        }\n\n        return data;\n    }\n\n}","import { Graph as AntvGraph } from \"@antv/x6\";\nimport { default as Graph, } from \"../graph\";\nimport { DocassembleTransformer } from \"./docassemble\";\nimport { AntvisTransformer } from \"./antvis\";\nimport { JSONGraphData, JSONTransformer } from \"./json\";\n\nexport interface ITransformer {\n    in?: (graph: Graph, ...params: Array<any>) => Graph\n    out: (graph: Graph, ...params: Array<any>) => any\n}\n\nexport default class {\n\n    graph: Graph;\n    json: JSONTransformer;\n    antvis: AntvisTransformer;\n    docassemble: DocassembleTransformer;\n\n    \n    constructor(graph?: Graph) {\n        this.graph = graph ?? new Graph();\n\n        this.json = new JSONTransformer()\n        this.antvis = new AntvisTransformer()\n        this.docassemble = new DocassembleTransformer()\n    }\n\n    // json\n\n    in_json(data: JSONGraphData) {\n        this.graph = this.json.in_json(this.graph, data);\n\n        return this;\n    }\n\n    out_json() {\n        return this.json.out_json(this.graph);\n    }\n\n    // antv\n\n    in_antv(antv_graph: AntvGraph) {\n        this.graph = this.antvis.in(this.graph, antv_graph)\n\n        return this;\n    }\n\n    out_antv() {\n        return this.antvis.out(this.graph)\n    }\n\n    // docassemble\n    \n    out_docassemble() {\n        return this.docassemble.out(this.graph)\n    }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"toolbar\" }\nconst _hoisted_2 = { class: \"toolbar-item\" }\nconst _hoisted_3 = [\"disabled\"]\nconst _hoisted_4 = { class: \"toolbar-item\" }\nconst _hoisted_5 = [\"disabled\"]\nconst _hoisted_6 = { class: \"toolbar-item\" }\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = { class: \"toolbar-item\" }\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = { class: \"toolbar-item\" }\nconst _hoisted_11 = [\"disabled\"]\n\nimport { Dom, Addon, Graph } from '@antv/x6';\n    import Transformer from '@/utils/transformer'\n    import { JSONGraphData } from '@/utils/transformer/json';\n    import { useToast } from 'vue-toastification';\n\n    \nexport default /*#__PURE__*/_defineComponent({\n  props: {\n        graph: {\n            type: Graph,\n        },\n        docassemble_cont_update: {\n            type: Function,\n        },\n        init_modeler: {\n            type: Function,\n        }\n    },\n  setup(__props) {\n\nconst props = __props\n\n    // https://github.com/antvis/X6/blob/master/sites/x6-sites-demos/packages/tutorial/basic/dnd/dnd/src/app.tsx\n\n    const toast = useToast();\n\n    const { Dnd } = Addon;\n\n    \n\n    const item_regenerate_docassemble = () => {\n        props.docassemble_cont_update!()\n    }\n    \n\n    const item_load_example = () => {\n        // props.docassemble_cont_update!()\n        if (confirm(\"Are you sure you want to load the example flowchart?\")) {\n            const json: JSONGraphData = {\"nodes\":[{\"id\":\"9ed5d853-62a0-4395-afb9-d94e8cffd2cd\",\"appearance\":{\"x\":270,\"y\":40,\"width\":180,\"height\":36},\"gd\":{\"type\":\"start\",\"content\":\"walk or bus?\",\"variable\":\"walk_or_bus\"}},{\"id\":\"b8bdd58d-ab1f-44d0-82b8-5edb21f3d484\",\"appearance\":{\"x\":270,\"y\":110,\"width\":180,\"height\":36},\"gd\":{\"type\":\"decision\",\"content\":\"is it raining?\",\"variable\":\"is_raining\"}},{\"id\":\"396a3b5e-a0cd-49c4-96c3-c65a8da0c483\",\"appearance\":{\"x\":90,\"y\":190,\"width\":180,\"height\":36},\"gd\":{\"type\":\"notice\",\"content\":\"take an umbrella\",\"variable\":\"notice_take_umbrella\"}},{\"id\":\"d9a60522-cc80-40bf-b691-5e51b27b0e6c\",\"appearance\":{\"x\":90,\"y\":260,\"width\":180,\"height\":36},\"gd\":{\"type\":\"end\",\"content\":\"take the bus\",\"variable\":\"end_bus\"}},{\"id\":\"20e3d21e-0799-4de7-8d1e-6cac260279ad\",\"appearance\":{\"x\":470,\"y\":260,\"width\":180,\"height\":36},\"gd\":{\"type\":\"end\",\"content\":\"take a walk\",\"variable\":\"end_walk\"}}],\"edges\":[{\"id\":\"5106836e-d49c-4d33-9ed4-c6b5048ee11f\",\"node_from_id\":\"b8bdd58d-ab1f-44d0-82b8-5edb21f3d484\",\"node_to_id\":\"396a3b5e-a0cd-49c4-96c3-c65a8da0c483\",\"gd\":{\"content\":\"Yes\"}},{\"id\":\"b81563a8-ad65-4d7e-86df-efbb0cf7fad4\",\"node_from_id\":\"b8bdd58d-ab1f-44d0-82b8-5edb21f3d484\",\"node_to_id\":\"20e3d21e-0799-4de7-8d1e-6cac260279ad\",\"gd\":{\"content\":\"No\"}},{\"id\":\"3008df09-bacb-4a33-9b3e-8e248e858c2b\",\"node_from_id\":\"396a3b5e-a0cd-49c4-96c3-c65a8da0c483\",\"node_to_id\":\"d9a60522-cc80-40bf-b691-5e51b27b0e6c\",\"gd\":{\"content\":null}},{\"id\":\"90c865d8-fbc3-4b7b-b0a3-46a8f1468c3e\",\"node_from_id\":\"9ed5d853-62a0-4395-afb9-d94e8cffd2cd\",\"node_to_id\":\"b8bdd58d-ab1f-44d0-82b8-5edb21f3d484\",\"gd\":{\"content\":null}}],\"name\":\"Untitled graph\"};\n            const antv = (new Transformer()).in_json(json).out_antv();\n            props.graph?.fromJSON(antv);\n            props.docassemble_cont_update!();\n        }\n    }\n\n    const item_import_custom_json = () => {\n        // props.docassemble_cont_update!()\n        const custom_json = prompt(\"Enter the JSON you wish to import\")\n        if (custom_json) {\n            const custom_json_parsed = JSON.parse(custom_json);\n            if (custom_json_parsed) {\n                const antv = (new Transformer()).in_json(custom_json_parsed).out_antv();\n                props.graph?.fromJSON(antv);\n                props.docassemble_cont_update!();\n            } else {\n                toast.error(\"Failed to parse import\")\n            }\n        }\n    }\n    \n    const item_use = () => {\n        // window.open(route('graph.show', [this.remote_graph_data.graph.id]), '_blank');\n    }\n    \n    const item_reload = () => {\n        // props.remote_graph_data_reload()\n    }\n\n    const item_save = () => {\n        // props.local_save()\n    }\n    \n    const item_undo = () => {\n        props.graph?.undo();\n    }\n    \n    const item_redo = () => {\n        props.graph?.redo();\n    }\n\n    const item_clear = () => {\n        // if (typeof props.init_modeler !== \"undefined\" && confirm(\"Are you sure you want to reset your workspace?\")){\n        //     props.init_modeler();\n        // }\n\n        if (confirm(\"Are you sure you want to reset your workspace?\")) {\n            props.graph?.removeCells(props.graph.getCells()); \n            // TODO: set view to original state\n        }\n    }\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"button\", {\n        disabled: typeof __props.graph === 'undefined',\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (item_undo()))\n      }, \"Undo\", 8, _hoisted_3)\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createElementVNode(\"button\", {\n        disabled: typeof __props.graph === 'undefined',\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (item_redo()))\n      }, \"Redo\", 8, _hoisted_5)\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createElementVNode(\"button\", {\n        disabled: typeof __props.graph === 'undefined',\n        onClick: _cache[2] || (_cache[2] = ($event: any) => (item_clear()))\n      }, \"Clear\", 8, _hoisted_7)\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createElementVNode(\"button\", {\n        class: \"bg-blue-200\",\n        disabled: typeof __props.graph === 'undefined',\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (item_import_custom_json()))\n      }, \"Import JSON\", 8, _hoisted_9)\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _createElementVNode(\"button\", {\n        class: \"bg-blue-200\",\n        disabled: typeof __props.graph === 'undefined',\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (item_load_example()))\n      }, \"Load default example\", 8, _hoisted_11)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./GraphModelerToolbar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GraphModelerToolbar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./GraphModelerToolbar.vue?vue&type=style&index=0&id=495a6c46&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"block font-medium mb-2\" }, \"Validation errors\", -1)\nconst _hoisted_2 = { class: \"list-disc list-inside\" }\nconst _hoisted_3 = {\n  key: 1,\n  class: \"block text-green-800\"\n}\n\nimport { VNode } from 'vue';\n    \n    \nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    formatted_validation_errors: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {formatted_validation_errors: (string | VNode)[][]}\n\n\n    \n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"border border-gray-500 rounded mt-4 mb-2 py-2 px-3\", { 'bg-red-50': props.formatted_validation_errors.length > 0 }])\n  }, [\n    (props.formatted_validation_errors.length > 0)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _hoisted_1,\n          _createElementVNode(\"ul\", _hoisted_2, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.formatted_validation_errors, (validation_error, vei) => {\n              return (_openBlock(), _createElementBlock(\"li\", {\n                class: \"validation-error text-red-900\",\n                key: vei\n              }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(validation_error, (err_part) => {\n                  return (_openBlock(), _createElementBlock(_Fragment, { key: err_part }, [\n                    ((err_part as any).__v_isVNode ?? false)\n                      ? (_openBlock(), _createBlock(_resolveDynamicComponent(err_part), { key: 0 }))\n                      : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                          _createTextVNode(_toDisplayString(err_part), 1)\n                        ], 64))\n                  ], 64))\n                }), 128))\n              ]))\n            }), 128))\n          ])\n        ], 64))\n      : (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"Graph contains no errors\"))\n  ], 2))\n}\n}\n\n})","import script from \"./GraphValidationErrors.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GraphValidationErrors.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./GraphValidationErrors.vue?vue&type=style&index=0&id=0dba82ff&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createBlock as _createBlock, unref as _unref, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createTextVNode as _createTextVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { class: \"mb-4\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"text-4xl font-serif inline\" }, \"GraphDoc\", -1)\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-sm\"\n}\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"mt-2\" }, \" This tool serves as a PoC to convert flowcharts (which can be represented as directed acyclic graphs) to docassemble interviews. The goal of this tool is to provide an intuitive interface for constructing docassemble interviews, in which relations and dependencies between nodes ('blocks') are more clearly visible. \", -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h2\", { class: \"text-lg font-serif mt-2 mb-1\" }, \"Instructions\", -1)\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"p\", null, \" Start by dragging nodes from the left sidebar. Connect nodes by dragging edges from and to the ports of the nodes. Configure nodes and edges by clicking on their cells and filling in the details in the config sidebar on the right. Nodes and edges can also be removed from this sidebar. If no output is produced, interpret the validation errors presented above the docassemble output window. For an example of a well structured graph, click on 'Load example'. \", -1)\nconst _hoisted_7 = [\n  _hoisted_4,\n  _hoisted_5,\n  _hoisted_6\n]\nconst _hoisted_8 = { class: \"border border-gray-400 rounded overflow-hidden\" }\nconst _hoisted_9 = { class: \"w-full bg-gray-100\" }\nconst _hoisted_10 = {\n  class: \"w-full flex\",\n  style: {\"height\":\"500px\"}\n}\nconst _hoisted_11 = { class: \"w-20 flex-initial bg-gray-100 border-t border-gray-200\" }\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"modeler-container-box\",\n  class: \"flex flex-grow border-4 border-b-0 border-gray-300\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"div\", {\n    id: \"modeler-container\",\n    style: {\"flex\":\"1\"}\n  })\n], -1)\nconst _hoisted_13 = { class: \"w-64 flex-initial bg-gray-100 border-t border-gray-200 overflow-y-auto\" }\nconst _hoisted_14 = { class: \"my-4\" }\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"text-lg block mb-1\" }, \"Docassemble interview output\", -1)\nconst _hoisted_16 = { class: \"text-sm text-gray-700\" }\nconst _hoisted_17 = /*#__PURE__*/_createTextVNode(\" Include a copy of the model \")\nconst _hoisted_18 = { class: \"relative\" }\nconst _hoisted_19 = {\n  class: \"w-full min-h-4 font-mono border rounded p-2 mt-1 whitespace-pre-wrap\",\n  id: \"docassemble_out_container\"\n}\n\nimport { h, onMounted, reactive, Ref, ref, VNode, watch } from 'vue';\n\n    import { useToast } from \"vue-toastification\";\n    \n    import { Cell, Graph } from '@antv/x6';\n\n    import GraphModelerConfigBar from './GraphModelerConfigBar.vue'\n    import GraphModelerElementsBar from './GraphModelerElementsBar.vue'\n    import GraphModelerToolbar from './GraphModelerToolbar.vue'\n    import GraphValidationErrors from './GraphValidationErrors.vue'\n    \n    import Transformer from '@/utils/transformer'\n    import { graph_options_defaults, graph_register_defaults } from '@/utils/antv-model'\n    import { DocassembleTransformer, validationErrorList } from '@/utils/transformer/docassemble';\n    import { Node, Edge } from '@/utils/graph';\n\n    \nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\n\n    const read_more = ref(false);\n\n    onMounted(() => {\n        init_modeler()\n        docassemble_cont_update()\n    })\n\n    const graph_data: Ref<object> = ref({});\n    const graph: Ref<Graph | undefined> = ref();\n\n    const selected_cell: Ref<Cell | undefined> = ref();\n    function select_cell(cell: Cell | undefined) {\n        if (typeof cell !== 'undefined') {\n            selected_cell.value = cell;\n            graph.value?.select(cell);\n            graph.value?.scrollToCell(cell);\n        }\n    }\n\n    const docassemble_validation_errors: Ref<validationErrorList> = ref([]);\n    const formatted_validation_errors: Ref<(string | VNode)[][]> = ref([]);\n    const docassemble_cont: Ref<string> = ref('');\n\n    const docassemble_out_options = reactive({\n        include_json_export: true,\n    });\n\n    watch(() => docassemble_out_options, (val => {\n        console.log(\"options updated\")\n        docassemble_cont_update();\n    }), { deep: true })\n\n    const docassemble_cont_update = () => {\n        if (typeof graph.value == \"undefined\")\n            return;\n        \n        const transformer = (new Transformer()).in_antv(graph.value);\n\n        docassemble_validation_errors.value = (new DocassembleTransformer()).validate_graph(transformer.graph);\n\n        // remove cells from all errors\n        graph.value.getCells().forEach(cell => \n            typeof cell.getData()?.errors !== 'undefined' &&\n            cell.setData({'errors': false}, {no_da_update: true}));\n         \n        // this part formats the conversion errors, which contain Node and Edge \n        // objects, to a clickable span as a VNode\n        formatted_validation_errors.value = docassemble_validation_errors.value.map((val_error) => {\n            return val_error.map(error_part => {\n                if (typeof error_part === \"string\") {\n                    return error_part;\n                } else if (error_part.is_node()) {\n                    const error_node = (error_part as Node);\n                    const antv_node = graph.value?.getCellById(error_node.id);\n                    if (typeof antv_node !== 'undefined') {\n                        antv_node.setData({errors: true}, {no_da_update: true});\n                        return h('span', {\n                            onClick(event: any) {\n                                select_cell(antv_node);\n                            },\n                            class: 'clickable-entity'\n                        }, error_node.get_label());\n                    } else {\n                        return `\"${ error_node.get_label() }\"\"`\n                    }\n                } else if (error_part.is_edge()) {\n                    const error_edge = (error_part as Edge);\n                    const antv_edge = graph.value?.getCellById(error_edge.id);\n                    const error_edge_content = error_edge.gd.content ? \n                        `with content ${error_edge.gd.content}` : \n                        `leaving from node ${ error_edge.get_node_from().get_label() }`;\n                    if (typeof antv_edge !== 'undefined') {\n                        return h('span', {\n                            onClick(event: any) {\n                                select_cell(graph.value?.getCellById(error_edge.gd.content ? error_edge.id : error_edge.node_from_id));\n                            },\n                            class: 'clickable-entity'\n                        }, error_edge_content);\n                    } else {\n                        return `\"${ error_edge_content }\"`\n                    }\n                } else {\n                    return ''\n                }\n            });\n        });\n\n        if(formatted_validation_errors.value.length == 0) {\n            docassemble_cont.value = transformer.out_docassemble()\n            if (docassemble_cont.value && docassemble_out_options.include_json_export) {\n                docassemble_cont.value = docassemble_cont.value\n                    .concat(\"\\n---\\n# [START INLINE GRAPHDOC EXPORT]\")\n                    .concat(\"\\n# \").concat(JSON.stringify(transformer.out_json()))\n                    .concat(\"\\n# [END INLINE GRAPHDOC EXPORT]\");\n            }\n        } else {\n            docassemble_cont.value = '-';\n        }\n    };\n\n    const copy_button_content = ref('COPY');\n    const copy_docassemble_out = () => {\n        \n        (window as any).getSelection().selectAllChildren(\n            document.getElementById('docassemble_out_container')\n        );\n\n        // source: https://stackoverflow.com/a/67008779/17864167\n        navigator.clipboard.writeText(docassemble_cont.value)\n        .then(() => {\n            copy_button_content.value = 'COPIED!';\n            setTimeout(() => { copy_button_content.value = 'COPY' }, 1200)\n        })\n        .catch(err => {\n            copy_button_content.value = 'FAILED';\n            setTimeout(() => { copy_button_content.value = 'COPY' }, 1200)\n            console.log('Failed to copy', err);\n        });\n    }\n\n    const register_events = (graph: Graph) => {\n        // https://x6.antv.vision/en/docs/tutorial/intermediate/events\n\n        graph.on('cell:change:*', (args) => {\n            // console.log(args)\n            if (!(args.options.no_da_update ?? false)) {\n                if (args.key == 'target') {\n                    // when target hits, it changes from {x: n, y: n} to Cell, which we will catch here.\n                    if (typeof args.current.cell != typeof args.previous.cell)\n                        docassemble_cont_update()\n\n                // other changes to ignore:\n                } else if (!['target', 'zIndex', 'tools', 'position'].includes(args.key as string))\n                    docassemble_cont_update()\n            }\n        })\n\n        graph.on('cell:removed', docassemble_cont_update)\n        graph.on('cell:added', docassemble_cont_update)\n\n        graph.on('cell:selected', ({ cell, options }) => {\n            if (selected_cell.value != cell)\n                selected_cell.value = cell\n        })\n\n        graph.on('cell:unselected', ({ cell, options }) => {\n            if (selected_cell.value != null)\n                selected_cell.value = undefined\n        })\n\n        graph.on('blank:click', ({ e, x, y }) => {\n            if (selected_cell.value != null)\n                selected_cell.value = undefined\n        })\n    }\n\n    const init_modeler = () => {\n\n        let container = document.getElementById('modeler-container')!;\n        // let container_box = document.getElementById('modeler-container-box')!;\n\n        let width = container.scrollWidth;\n        let height = container.scrollHeight || 500;\n\n        graph.value = new Graph({\n            ...graph_options_defaults,\n\n            container: container,\n            autoResize: true,\n\n            // width,\n            // height,\n        })\n\n        if(graph.value != undefined)\n        {\n            graph_register_defaults(graph.value);\n            register_events(graph.value);\n\n            docassemble_cont_update()\n        }\n\n    };\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"span\", null, [\n        _hoisted_2,\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (read_more.value = !read_more.value)),\n          class: \"font-normal underline-offset-4 underline hover:no-underline pl-6 py-1 px-2 text-gray-600 hover:text-gray-900\"\n        }, \"read \" + _toDisplayString(read_more.value ? 'less' : 'more'), 1)\n      ]),\n      (read_more.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _hoisted_7))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createVNode(GraphModelerToolbar, {\n          graph: graph.value,\n          docassemble_cont_update: docassemble_cont_update,\n          init_modeler: init_modeler\n        }, null, 8, [\"graph\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_10, [\n        _createElementVNode(\"div\", _hoisted_11, [\n          (graph.value !== null)\n            ? (_openBlock(), _createBlock(GraphModelerElementsBar, {\n                key: 0,\n                graph: graph.value\n              }, null, 8, [\"graph\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _hoisted_12,\n        _createElementVNode(\"div\", _hoisted_13, [\n          _createVNode(GraphModelerConfigBar, { cell: selected_cell.value }, null, 8, [\"cell\"])\n        ])\n      ])\n    ]),\n    _createVNode(GraphValidationErrors, { formatted_validation_errors: formatted_validation_errors.value }, null, 8, [\"formatted_validation_errors\"]),\n    _createElementVNode(\"div\", _hoisted_14, [\n      _hoisted_15,\n      _createElementVNode(\"label\", _hoisted_16, [\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          class: \"mr-1\",\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_unref(docassemble_out_options).include_json_export) = $event))\n        }, null, 512), [\n          [_vModelCheckbox, _unref(docassemble_out_options).include_json_export]\n        ]),\n        _hoisted_17\n      ]),\n      _createElementVNode(\"div\", _hoisted_18, [\n        _createElementVNode(\"div\", _hoisted_19, _toDisplayString(docassemble_cont.value), 1),\n        _createElementVNode(\"span\", {\n          class: \"copy-button\",\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (copy_docassemble_out()))\n        }, _toDisplayString(copy_button_content.value), 1)\n      ])\n    ])\n  ], 64))\n}\n}\n\n})","import script from \"./GraphModeler.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GraphModeler.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./GraphModeler.vue?vue&type=style&index=0&id=94291258&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"mb-8 mt-4 mx-auto max-w-6xl\" }\n\nimport { onMounted } from 'vue'\n\n    import GraphModeler from './GraphModeler.vue'\n\n    \nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\n\n    onMounted(() => {\n        console.log('Editor window mounted.')\n    });\n    \n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(GraphModeler)\n  ]))\n}\n}\n\n})","import script from \"./GraphEditorComponent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./GraphEditorComponent.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"\" }\n\nimport { defineComponent } from 'vue';\n// import GraphModeler from './components/GraphModeler.vue';\nimport GraphEditorComponent from './components/graph/GraphEditorComponent.vue';\nimport Test from './components/Test.vue';\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(GraphEditorComponent)\n  ]))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./App.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./App.vue?vue&type=style&index=0&id=62820c9f&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\nimport './style/index.scss'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkGraphDoc\"] = self[\"webpackChunkGraphDoc\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(977); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["uuid","uuidv4","NodeDefault","appearance","x","y","width","height","gd","type","content","variable","Node","constructor","options","id","Object","assign","this","is_node","is_edge","get_label","substring","get_content","get_edges_in","graph","edges","filter","edge","node_to_id","get_edges_out","node_from_id","get_nodes_in","node_ids","map","nodes","node","includes","get_nodes_out","EdgeDefault","Edge","get_node_from","get_node_to","Graph","name","get_nodes_by_type","add_node","push","add_edge","clear","default_edge_label","text","attrs","position","distance","default_edge_attrs","line","strokeWidth","zIndex","graph_options_defaults","grid","background","color","mousewheel","enabled","zoomAtMousePosition","modifiers","minScale","maxScale","scroller","pannable","connecting","allowBlank","allowMulti","allowLoop","allowEdge","allowNode","allowPort","highlight","snap","connector","connectionPoint","anchor","validateMagnet","e","magnet","view","cell","getAttribute","createEdge","validateEdge","previous","validateConnection","sourceMagnet","targetMagnet","history","beforeAddCommand","event","args","key","resizing","selecting","multiple","graph_register_defaults","on","addTools","setTimeout","removeTool","s","offset","deltaY","Math","abs","control","floor","v1","v2","Path","default_port_groups","in","circle","r","stroke","out","default_node_ports","ports","default_ports","groups","items","port_group","group","node_type_default","node_html","render","data","getData","label","label_class","errors","shouldComponentUpdate","hasChanged","node_types","start","antv_metadata","shape","html","config_fields","general","additional","decision","notice","end","str","toUpperCase","slice","toLowerCase","_hoisted_1","_hoisted_2","_createElementVNode","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_defineComponent","props","setup","__props","current_fields","computed","field","node_type","current_node_fields","keys","fromEntries","entries","val","length","node_content","get","set","value","setData","node_variable","edge_content_ref","ref","edge_content","getLabelAt","toString","edge_label","removeLabelAt","setLabelAt","_ctx","_cache","_openBlock","_createElementBlock","isNode","_toDisplayString","_unref","titleCase","onClick","$event","remove","_Fragment","_renderList","fields","field_group","_withDirectives","_isRef","_vModelText","_createCommentVNode","style","isEdge","getSourceCell","__exports__","dnd","onMounted","watch","init_dnd","Addon","target","scaled","animation","validateNode","droppingNode","startDrag","currentTarget","createNode","node_type_name","_normalizeClass","onMousedown","indent","lines","spaces_per","repeat","concat","DocassembleTransformer","validate_graph","node_start","nodes_end","variable_list","node_var","da_node_get_id","amount","console","log","seperated_error_nodes","forEach","i","match","nodes_decision","node_decision","has_edge_out_content_null","content_edges_out","node_edges_out","edge_out","error_start","tmp_edge","L","S","n","pop","m","da_build_logic","code","sub_cont","node_edge_out","node_edge_out_content","sub_node","blocks","edges_out","buttons","sort","logic_code","node_end","block","Array","isArray","join","AntvisTransformer","antv_graph","local_data","getNodes","getEdges","loc_node","loc_node_data","rem_node","getPosition","getSize","loc_edge","getTargetCell","rem_edge","getSourceCellId","getTargetCellId","vertices","getVertices","data_nodes","last_x","values","node_ser","data_edges","edge_ser","labels","source","port","pick","obj","ret","JSONTransformer","in_json","out_json","json","antvis","docassemble","in_antv","out_antv","out_docassemble","docassemble_cont_update","Function","init_modeler","toast","useToast","Dnd","item_load_example","confirm","antv","Transformer","fromJSON","item_import_custom_json","custom_json","prompt","custom_json_parsed","JSON","parse","error","item_undo","undo","item_redo","redo","item_clear","removeCells","getCells","disabled","formatted_validation_errors","validation_error","vei","err_part","__v_isVNode","_createBlock","_resolveDynamicComponent","_createTextVNode","read_more","selected_cell","select_cell","select","scrollToCell","docassemble_validation_errors","docassemble_cont","docassemble_out_options","reactive","include_json_export","deep","transformer","no_da_update","val_error","error_part","error_node","antv_node","getCellById","h","error_edge","antv_edge","error_edge_content","stringify","copy_button_content","copy_docassemble_out","window","getSelection","selectAllChildren","document","getElementById","navigator","clipboard","writeText","then","catch","err","register_events","current","undefined","container","scrollWidth","scrollHeight","autoResize","_createVNode","GraphModelerToolbar","GraphModelerElementsBar","GraphModelerConfigBar","GraphValidationErrors","_vModelCheckbox","GraphModeler","GraphEditorComponent","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}